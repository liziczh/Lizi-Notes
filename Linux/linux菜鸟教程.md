linux系统启动过程：

#### linux 系统目录结构

- `/bin`：Binary，存放常用命令。
- `/boot`：存放启动linux时使用的一些核心文件，包括连接文件和镜像文件等。
- `/dev`：Device (设备) ，存放 linux 的外部设备。在Linux中访问设备的方式和访问文件的方式是相同的。
- `/etc`：存放系统管理的配置文件与子目录。
- `/home`：用户主目录。在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。
- ...

**终端利用ssh登录远程服务器**：

1.安装ssh：

```
yum install ssh
```

2.启动ssh：

```
service sshd start
```

3.登录远程服务器：

```
ssh -p 50022 my@127.0.0.1
输入密码：
my@127.0.0.1:
```

> `-p`：指定端口。
>
> `my`：服务器用户名。
>
> `127.0.0.1`：服务器 IP。

#### linux 文件基本属性

```shell
[root@www /]# ls -l
total 64
drwxr-xr-x 2 root  root  4096 Feb 15 14:46 cron
drwxr-xr-x 3 mysql mysql 4096 Apr 21  2014 mysql
```

第0位：文件类型

- [`d`] - 指目录。

- [`-`] - 指文件。

- [`l`] - 指链接文档。

- [`b`] - 指装置文件里面的可供储存的接口设备(可随机存取装置)。

- [`c`] - 指装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

接下来，以三个为一组，均为[`rwx`]的组合。

- [`r`] - read，可读。
- [`w`] - write，可写。
- [`x`] - execute，可执行。
- [`-`] - 没有该权限。

第1、4、7位表示读权限。

第2、5、8位表示写权限。

第3、6、9位表示执行权限。

第1-3位：确定属主 (文件所有者) 权限。

第4-6位：确定属组 (文件所有者的同组用户) 权限。

第7-9位：确定其他用户权限。

**更改文件属性**：

1、chgrp：更改文件属组。

```shell
chgrp [-R] 属组名 文件名
```

> `-R`：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。

2、chown：更改文件属主，也可同时更改文件属组。

```shell
chown [–R] 属主名 文件名
chown [-R] 属主名：属组名 文件名
```

3、chmod：更改文件9个权限 (owner/group/others 三种身份各自的 read/write/execute 权限) 。

使用数字代表各个权限 (r=4，w=2，x=1) ，这样每组[rwx]都能由一个数字表示。

例如：

> - owner = rwx = 4+2+1 = 7
> - group = rwx = 4+2+1 = 7
> - others= --- = 0+0+0 = 0
>
> 该文件的权限数字就为770。

数字类型改变文件权限：

```shell
chmod [-R] xyz 文件或目录
```

符号类型改变文件权限：

```shell
          u(owner)     +(加入)     r(read)
chmod     g(group)     -(除去)     w(write)     文件或目录
          o(others)    =(设定)     x(execute)
          a(all)
```

#### linux 文件与目录管理

**处理目录常用命令**：

ls：列出目录。

```shell
ls -a  # 列出全部文件（包括隐藏文件）
ls -d  # 仅列出目录本身，而不是列出目录内的文件数据	
ls -l  # 长数据串列出，包含文件的属性与权限等等数据；
```

cd：切换目录。

```shell
cd /opt/app  # 使用绝对路径
cd ./app     # 使用相对路径
cd /   # 根目录
cd ..  # 上一级目录
cd ~   # 家目录，即/root目录
```

pwd：显示当前目录。

mkdir：创建一个新目录。

```shell
mkdir -m  # 配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
mkdir -p  # 帮助你直接将所需要的目录(包含上一级目录)递归创建起来！
```

rmdir：删除一个空目录。

```shell
rmdir -p 目录名称  # 连同上一级『空的』目录也一起删除
```

cp：复制文件/目录。

```shell
cp -a  # 相当于 -pdr；
cp -d  # 若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；
cp -f  # 强制(force)，若目标文件已经存在且无法开启，则移除后再尝试一次；
cp -i  # 若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
cp -l  # 进行硬式连结(hard link)的连结档创建，而非复制文件本身；
cp -p  # 连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
cp -r  # 递归持续复制，用於目录的复制行为；(常用)
cp -s  # 复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
cp -u  # 若 destination 比 source 旧才升级 destination ！
```

rm：移除文件/目录。

```shell
rm -f  # 强制(force)，忽略不存在的文件，不会出现警告信息；
rm -i  # 互动模式，在删除前会询问使用者是否动作
rm -r  # 递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！
```

mv：移动文件/目录，或修改文件与目录的名称。

```shell
mv -f  # 强制(force)，如果目标文件已经存在，不会询问而直接覆盖；
mv -i  # 若目标文件 (destination) 已经存在时，就会询问是否覆盖！
mv -u  # 若目标文件已经存在，且 source 比较新，才会升级 (update)
```

> man [命令]：查看各个命令的使用文档。

**查看文件内容**：

cat：从第一行开始显示文件内容。

- -A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
- -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
- -E ：将结尾的断行字节 $ 显示出来；
- -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
- -T ：将 [tab] 按键以 ^I 显示出来；
- -v ：列出一些看不出来的特殊字符

tac：从最后一行开始显示文件内容。

nl：带行号显示内容。

- -b ：指定行号指定的方式，主要有两种：
  -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
  -b t ：如果有空行，空的那一行不要列出行号(默认值)；
- -n ：列出行号表示的方法，主要有三种：
  -n ln ：行号在荧幕的最左方显示；
  -n rn ：行号在自己栏位的最右方显示，且不加 0 ；
  -n rz ：行号在自己栏位的最右方显示，且加 0 ；
- -w ：行号栏位的占用的位数。

more：以页为单位显示文件内容。

- 空白键 (space)：代表向下翻一页；
- Enter         ：代表向下翻『一行』；
- /字串         ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
- :f            ：立刻显示出档名以及目前显示的行数；
- q             ：代表立刻离开 more ，不再显示该文件内容。
- b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。

less：与more类似，可以向前翻页。

- 空白键    ：向下翻动一页；
- [pagedown]：向下翻动一页；
- [pageup]  ：向上翻动一页；
- /字串     ：向下搜寻『字串』的功能；
- ?字串     ：向上搜寻『字串』的功能；
- n         ：重复前一个搜寻 (与 / 或 ? 有关！)
- N         ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
- q         ：离开 less 这个程序；

head：只看前几行。

- -n ：后面接数字，代表显示几行的意思

tail：只看最后几行。

- -n ：后面接数字，代表显示几行的意思

**linux 文件链接**：

- 硬连接：通过索引节点来进行连接。相当于 Windows 复制。
- 软连接：符号链接，相当于 Windows 快捷方式。

#### linux 用户与用户组管理

**用户账号管理**：

1、添加新账号：

```shell
useradd 选项 用户名
```

- -c comment 指定一段注释性描述。
- -d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。
- -g 用户组 指定用户所属的用户组。
- -G 用户组，用户组 指定用户所属的附加组。
- -s Shell文件 指定用户的登录Shell。
- -u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。

2、删除账号：

```shell
userdel 选项 用户名
```

- -r 把用户的主目录一起删除。

修改账号：

```shell
usermod 选项 用户名
```

> 选项同useradd。

3、指定口令：

```
passwd 选项 用户名
```

- -l 锁定口令，即禁用账号。
- -u 口令解锁。
- -d 使账号无口令。
- -f 强迫用户下次登录时修改口令。

**用户组管理**：

1、添加用户组

```
groupadd 选项 用户组
```

- -g GID 指定新用户组的组标识号（GID）。
- -o 一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同。

2、删除用户组

```shell
groupdel 用户组
```

3、修改用户组

```shell
groupmod 选项 用户组
```

- -g GID 为用户组指定新的组标识号。
- -o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。
- -n新用户组 将用户组的名字改为新名字

4、切换用户组

```shell
newgrp 用户组
```

#### linux 磁盘管理

df：列出文件系统的整体磁盘使用量

```shell
df [-ahikHTm] [目录或文件名]
```

- -a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；
- -k ：以 KBytes 的容量显示各文件系统；
- -m ：以 MBytes 的容量显示各文件系统；
- -h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；
- -H ：以 M=1000K 取代 M=1024K 的进位方式；
- -T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；
- -i ：不用硬盘容量，而以 inode 的数量来显示

du：检查磁盘空间使用量

```
du [-ahskm] 文件或目录名称
```

- -a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。
- -h ：以人们较易读的容量格式 (G/M) 显示；
- -s ：列出总量而已，而不列出每个各别的目录占用容量；
- -S ：不包括子目录下的总计，与 -s 有点差别。
- -k ：以 KBytes 列出容量显示；
- -m ：以 MBytes 列出容量显示；

fdisk：磁盘分区表操作工具

```
fdisk [-l] 装置名称
```

- -l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。